# tardigrade

Please provide a description of your project here.

## TODO Items
Please note that in addition to writing your actual application code, you will have to make a few manual edits specific to the pando workflow.
You can find these items labeled with a `TODO:` comment in various autogenerated files but here is an explicit checklist:

1. Turn your new project into a git repo with the following commands:
   ```
   git init
   git add .
   git commit -m "ðŸŒ³ Pando init"
   ```
2. For your `Dockerfile` in your ROOT dir, you will have to fill in whatever commands you want Docker to do before deploying.
   These commands will be executed during a `pando build` and can be used to build dependencies or simply move files. However please do NOT specify things 
   such as `USER`, `EXPOSE`, `ENTRYPOINT`, etc in the Dockerfile since you cannot query these things via the Kubernetes API so it makes auditing difficult.
3. (Optional) You may want to use the template `script/build` in order to make the building stage simpler. This is useful for larger apps or for compiling
   before deploying, but it is not necessary. Feel free to remove `script/build` if you find out that it's not needed.
4. In your deployment Helm chart, initially defined in the `chart/templates/deployment.yaml` path, replace the values under the command label with whatever
   initial command is necessary to start your service. If you have compiled some file in your build script, this command name should be that binary. Otherwise this command can be 
   a wrapper script that sets some environment variables before runnning the binary or simply running an installed program.

At this point, you should be able to do a fresh
```
pando build
pando deploy
```
locally without any errors! You can also run a `kubectl get pods` command and see your brand new app up and running on your local machine!

At this point, it's up to you to write whatever application code your wonderful pando app will run. You can verify your app works as expected locally by hitting the `<backendIngressHost>.local.rsglab.com:30000` in your browser in order to ping your application.

## Next Steps
1. In your `chart/values.yaml` file, replace the `alertroute` value with a valid, non-default alertroute relevant to your project. This may mean you
   need to create a new alertroute. If so, follow the link in the comment and make a PR that adds your new alertroute.

   Otherwise, your app's alerts will default to the `#alert-testing` slack channel. Please do not let this be the permanent alertroute as it is just for testing!
2. When you are ready to deploy to production, edit your `.pando.yaml` file to include a deployment context and any values you want to set in prod.
   Note that this means you have already set up a k8s namespace in the right k8s production cluster and are prepared to monitor your service's health.

   Also note that setting the `deployType: ci` label will cause a new deployment to production on merging to master. We strongly recommend using this workflow to deploy to production.
3. Depending on what your application does, you may want to consider adding specific kubernetes features like a rollout strategy, replicas, etc. in your deployment chart.
   You should be able to follow along with the official kubernetes documentation for this step, but feel free to look at other pando projects for guidance.

## Cleanup
After you have made all these `TODO` edits, feel free to delete the whole text in this entire `README` file and write in the actual README description for your project!

